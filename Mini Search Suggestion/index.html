<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="color-scheme" content="light" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="keywords" content="Search Suggestion Like !" />
    <meta
      name="description"
      content="a Google like Search Suggestion with the help of HTML CSS and JavaScript"
    />
    <meta name="subject" content="Search Box" />
    <meta
      name="copyright"
      content="kasrasparrow@gmail.com, https://github.com/KASRA10"
    />
    <meta name="language" content="en-US" />
    <meta name="robots" content="no-index, no-follow" />
    <meta
      name="author"
      content="KasraK10, kasrasparrow@gmail.com, https://github.com/KASRA10"
    />
    <meta name="generator" content="Visual Studio Code" />
    <meta name="topic" content="Search Suggestion" />
    <meta name="summary" content="Search Suggestion" />
    <meta
      name="designer"
      content="Kasra Hosseini - K10 - https://kasra10design.com"
    />
    <meta name="owner" content="KasraK10" />
    <meta name="category" content="Search Suggestion" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible+Mono:ital,wght@0,200..800;1,200..800&display=swap"
      rel="stylesheet"
    />
    <title>JS Search Suggestion</title>
    <!-- InterNal CSS ==> Generally Using External CSS is BetterThat Other Ways -->
    <style>
      * {
        margin: 0;
        padding: 0;
        border: none;
        box-sizing: border-box;
      }

      html,
      body {
        width: 100%;
        height: 100vh;
        font-family: "Atkinson Hyperlegible Mono", monospace;
        background-color: #f0f0f0;
        display: flex;
        flex-flow: column nowrap;
        justify-content: center;
        align-items: center;
        overflow: hidden;
      }

      div.container {
        width: 80%;
        max-width: 600px;
        padding: 50px 25px;
        background-color: #ffffff;
        border-radius: 25px;
        box-shadow: 3px 6px 17px rgba(0, 0, 0, 0.2);
        text-align: center;
      }

      /* Wrapper for input + suggestions */
      .search-wrapper {
        position: relative; /* Important: makes ul position relative to this */
        width: 100%;
        margin-bottom: 20px;
      }

      input#searchField {
        width: 100%;
        padding: 12px 20px;
        font-size: 18px;
        border: #141618 solid 2px;
        background-color: #fff;
        outline: none;
        border-radius: 25px;
      }

      ul#suggestion {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        margin: 5px 0 0 0;
        background-color: #fff;
        list-style: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        border-radius: 15px;
        max-height: 300px;
        overflow-y: auto;
        z-index: 10;
        display: none; /* hidden by default */
      }

      /* Show when it has items */
      ul#suggestion:not(:empty) {
        display: block;
      }

      ul#suggestion li {
        padding: 12px 20px;
        cursor: pointer;
        text-align: left;
        transition: background-color 0.2s;
      }

      ul#suggestion li:hover {
        background-color: #f5f5f5;
      }

      button[type="button"] {
        padding: 12px 24px;
        font-size: 18px;
        font-weight: bold;
        color: #fff;
        background-color: #141618;
        border: none;
        border-radius: 25px;
        cursor: pointer;
      }
    </style>
    <!-- End Of InterNal Css -->
  </head>
  <body>
    <main>
      <section>
        <div class="container">
          <div class="search-wrapper">
            <input
              type="text"
              placeholder="Search Suggestion"
              id="searchField"
            />
            <ul id="suggestion"></ul>
          </div>

          <button type="button">Search</button>
        </div>
      </section>
    </main>
    <!-- Script Logic -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const cities = [
          "Tokyo, Japan",
          "New York City, USA",
          "Paris, France",
          "London, UK",
          "Osaka, Japan",
          "Singapore, Singapore",
          "Dubai, UAE",
          "Seoul, South Korea",
          "Bangkok, Thailand",
          "Hong Kong, China",
          "Shanghai, China",
          "Los Angeles, USA",
          "Rome, Italy",
          "Miami, USA",
          "Las Vegas, USA",
          "Sydney, Australia",
          "Toronto, Canada",
          "San Francisco, USA",
          "Barcelona, Spain",
          "Berlin, Germany",
          "Chicago, USA",
          "Amsterdam, Netherlands",
          "Madrid, Spain",
          "Moscow, Russia",
          "Istanbul, Turkey",
          "Vienna, Austria",
          "Mumbai, India",
          "Kolkata, India",
          "Delhi, India",
          "Bangalore, India",
          "Hyderabad, India",
          "Pune, India",
        ];

        const searchField = document.getElementById("searchField");
        const ulSuggestion = document.getElementById("suggestion");

        searchField.addEventListener("keyup", (event) => {
          const query = searchField.value.trim().toLowerCase();

          // Clear previous suggestions
          ulSuggestion.innerHTML = "";

          // If input is empty, hide suggestions
          if (query === "") {
            return;
          }

          // Filter cities
          const filteredCities = cities.filter((item) =>
            item.toLowerCase().includes(query)
          );

          // Limit to 5 suggestions
          const length = Math.min(filteredCities.length, 5);

          // Create and append <li> elements
          for (let i = 0; i < length; i++) {
            const li = document.createElement("li");
            li.textContent = filteredCities[i];
            ulSuggestion.appendChild(li);
          }
        });

        // Click on suggestion to fill input and clear list
        ulSuggestion.addEventListener("click", (event) => {
          if (event.target.tagName === "LI") {
            searchField.value = event.target.textContent;
            ulSuggestion.innerHTML = "";
            searchField.focus();
          }
        });

        // hide suggestions when clicking outside
        document.addEventListener("click", (event) => {
          if (
            !searchField.contains(event.target) &&
            !ulSuggestion.contains(event.target)
          ) {
            ulSuggestion.innerHTML = "";
          }
        });
      });
    </script>
  </body>
</html>
